webpackJsonp([0],{1058:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),"Close");t.default=o},1064:function(e,t,a){"use strict";var n=a(1065),r=a(15),o=(a.n(r),a(0)),i=a.n(o),l=a(109),s=a(52),c=a(72),p=a(53),d=a(167),u=a.n(d),f=a(70),h=a(359),m=a(170),g=a(168),b=a(332),y=a(325),v=a(324),E=a(1117),w=a.n(E),O=a(1118),_=a.n(O),N=a(1119),T=a.n(N),P=a(1120),j=a.n(P),C=a(1121),S=a.n(C),x=a(354),k=a(1122),M=a(118);t.a=Object(l.e)(Object(s.b)((e,t)=>{const a=e.getIn(["authorize","uid"],{}),n=e.get("global",{});let o=Object(r.Map)({});e.getIn(["circle","circleList"],{});const i=e.getIn(["circle","userTies"],{}),l=e.getIn(["post","userPosts",a],{}),s=e.getIn(["post","stream","hasMoreData"],!0);return i.forEach((t,a)=>{let n=e.getIn(["post","userPosts",a],{});o=o.merge(n)}),o=o.merge(l),{authed:e.getIn(["authorize","authed"],!1),isVerifide:e.getIn(["authorize","isVerifide"],!1),translate:Object(p.c)(e.get("locale")),currentLanguage:Object(p.b)(e.get("locale")).code,mergedPosts:o,global:n,hasMorePosts:s,loaded:e.getIn(["user","loaded"])&&e.getIn(["imageGallery","loaded"])&&e.getIn(["notify","loaded"])&&e.getIn(["circle","loaded"])}},(e,t)=>({loadDataStream:(t,a)=>e(M.g.dbGetPosts(t,a)),loadData:()=>{e(M.g.dbGetPosts()),e(M.e.dbGetImageGallery()),e(M.i.dbGetUserInfo()),e(M.f.dbGetNotifications()),e(M.b.dbGetCircles()),e(M.b.dbGetUserTies()),e(M.b.dbGetFollowers())},clearData:()=>{e(M.e.clearAllData()),e(M.g.clearAllData()),e(M.i.clearAllData()),e(M.f.clearAllNotifications()),e(M.b.clearAllCircles()),e(M.d.clearTemp())},defaultDataDisable:()=>{e(M.d.defaultDataDisable())},defaultDataEnable:()=>{e(M.d.defaultDataEnable())},goTo:t=>e(Object(c.b)(t)),showSendFeedback:()=>e(M.d.showSendFeedback()),hideSendFeedback:()=>e(M.d.hideSendFeedback())}))(Object(f.c)(e=>({root:{width:"100%",marginTop:3*e.spacing.unit,zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},navIconHide:{[e.breakpoints.up("md")]:{display:"none"}},drawerHeader:e.mixins.toolbar,drawerPaper:{maxWidth:220,width:220,[e.breakpoints.up("md")]:{width:220,position:"relative",height:"100%"}},drawerPaperLarge:{width:220,[e.breakpoints.up("md")]:{width:220,height:"100%"},top:70,backgroundColor:"#fafafa",borderRight:0},menu:{height:"100%"},content:{backgroundColor:"transparent",width:"100%",flexGrow:1,padding:1*e.spacing.unit,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"calc(100% - 56px)",marginTop:56,[e.breakpoints.up("sm")]:{height:"calc(100% - 64px)",marginTop:64}},"content-left":{marginLeft:0},"content-right":{marginRight:0},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},"contentShift-left":{marginLeft:0,[e.breakpoints.up("md")]:{marginLeft:220}},"contentShift-right":{marginRight:0,[e.breakpoints.up("md")]:{marginRight:220}}}),{withTheme:!0})(class extends o.Component{constructor(e){super(e),this.handleDrawerToggle=(()=>{this.setState({drawerOpen:!this.state.drawerOpen})}),this.state={drawerOpen:!1}}componentWillMount(){const{global:e,clearData:t,loadData:a,authed:n,defaultDataEnable:r,isVerifide:o,goTo:i}=this.props;n?o?e.get("defaultLoadDataStatus")||(t(),a(),r()):i("/emailVerification"):i("/login")}render(){const e=n.a,{loaded:t,authed:a,loadDataStream:r,mergedPosts:o,hasMorePosts:s,showSendFeedback:c,translate:p,classes:d,theme:f}=this.props,{drawerOpen:E}=this.state,O=i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{to:"/"},i.a.createElement(g.a,{style:{color:"rgb(117, 117, 117)"}},i.a.createElement(b.a,null,i.a.createElement(w.a,null)),i.a.createElement(y.a,{inset:!0,primary:p("sidebar.home")}))),i.a.createElement(l.a,{to:`/${this.props.uid}`},i.a.createElement(g.a,{style:{color:"rgb(117, 117, 117)"}},i.a.createElement(b.a,null,i.a.createElement(j.a,null)),i.a.createElement(y.a,{inset:!0,primary:p("sidebar.profile")}))),i.a.createElement(l.a,{to:"/people"},i.a.createElement(g.a,{style:{color:"rgb(117, 117, 117)"}},i.a.createElement(b.a,null,i.a.createElement(S.a,null)),i.a.createElement(y.a,{inset:!0,primary:p("sidebar.people")}))),i.a.createElement(v.a,null),i.a.createElement(l.a,{to:"/settings"},i.a.createElement(g.a,{style:{color:"rgb(117, 117, 117)"}},i.a.createElement(b.a,null,i.a.createElement(T.a,null)),i.a.createElement(y.a,{inset:!0,primary:p("sidebar.settings")}))),i.a.createElement(g.a,{onClick:()=>c(),style:{color:"rgb(117, 117, 117)"}},i.a.createElement(b.a,null,i.a.createElement(_.a,null)),i.a.createElement(y.a,{inset:!0,primary:p("sidebar.sendFeedback")}))),N="rtl"===f.direction?"right":"left";return i.a.createElement("div",{className:d.root},i.a.createElement("div",{className:d.appFrame},i.a.createElement(k.a,{onToggleDrawer:this.handleDrawerToggle,drawerStatus:this.state.drawerOpen}),i.a.createElement(x.a,{mdUp:!0},i.a.createElement(h.a,{variant:"temporary",open:this.state.drawerOpen,classes:{paper:d.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0}},i.a.createElement("div",null,i.a.createElement("div",{className:d.drawerHeader}),i.a.createElement(m.a,{style:{color:"rgb(117, 117, 117)",width:"210px"}},i.a.createElement(v.a,null),O)))),i.a.createElement(x.a,{smDown:!0,implementation:"js"},i.a.createElement(h.a,{variant:"persistent",open:this.state.drawerOpen,classes:{paper:d.drawerPaperLarge}},i.a.createElement("div",null,i.a.createElement(m.a,{className:d.menu,style:{color:"rgb(117, 117, 117)",width:"210px"}},O)))),i.a.createElement("main",{className:u()(d.content,d[`content-${N}`],{[d.contentShift]:E,[d[`contentShift-${N}`]]:E})},i.a.createElement(e,{enabled:t,data:{mergedPosts:o,loadDataStream:r,hasMorePosts:s}}))))}})))},1065:function(e,t,a){"use strict";a(365);var n=a(1066);a.d(t,"a",function(){return n.a})},1066:function(e,t,a){"use strict";var n=a(1067),r=a(0),o=a.n(r),i=a(52),l=a(109),s=a(53),c=a(366),p=a.n(c),d=a(180);const u=p()({loader:()=>a.e(8).then(a.bind(null,935)),loading:d.a}),f=p()({loader:()=>a.e(6).then(a.bind(null,1073)),loading:d.a}),h=p()({loader:()=>a.e(7).then(a.bind(null,1098)),loading:d.a}),m=p()({loader:()=>a.e(9).then(a.bind(null,1100)),loading:d.a});t.a=Object(l.e)(Object(i.b)((e,t)=>({translate:Object(s.c)(e.get("locale")),currentLanguage:Object(s.b)(e.get("locale")).code}),(e,t)=>({}))(class extends r.Component{render(){const{enabled:e,match:t,data:a,translate:r}=this.props,i=u;return e?o.a.createElement(l.d,null,o.a.createElement(n.a,{path:"/people/:tab?",component:o.a.createElement(m,null)}),o.a.createElement(n.a,{path:"/tag/:tag",component:o.a.createElement("div",null,o.a.createElement(i,{displayWriting:!1,homeTitle:`#${t.params.tag}`,posts:a.mergedPosts}))}),o.a.createElement(l.c,{path:"/:userId/posts/:postId/:tag?",component:h}),o.a.createElement(l.c,{path:"/:userId",component:f}),o.a.createElement(n.a,{path:"/",component:o.a.createElement("div",null,o.a.createElement(i,{homeTitle:r("header.home"),posts:a.mergedPosts,loadStream:a.loadDataStream,hasMorePosts:a.hasMorePosts,displayWriting:!0}))})):""}}))},1067:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(52),i=a(109);t.a=Object(o.b)((e,t)=>({authed:e.getIn(["authorize","authed"])}))(class extends n.Component{render(){const{authed:e,path:t,component:a}=this.props;return r.a.createElement(i.c,{path:t,render:()=>e?a:r.a.createElement(i.b,{to:"/login"})})}})},1068:function(e,t,a){"use strict";var n=a(0),r=(a.n(n),a(1)),o=a.n(r),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n._setTargetNode=function(e){n._targetNode=e},n._getTargetNode=function(){return n._targetNode},l(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),i(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,a=e.children,r=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["tag","children"]);return!1!==t?Object(n.createElement)(t,r,a):a}}]),t}();s.childContextTypes={popperManager:o.a.object.isRequired},s.propTypes={tag:o.a.oneOfType([o.a.string,o.a.bool]),children:o.a.oneOfType([o.a.node,o.a.func])},s.defaultProps={tag:"div"},t.a=s},1069:function(e,t,a){"use strict";var n=a(0),r=(a.n(n),a(1)),o=a.n(r),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var l=function(e,t){var a=e.component,r=void 0===a?"div":a,o=e.innerRef,l=e.children,s=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["component","innerRef","children"]),c=t.popperManager,p=function(e){c.setTargetNode(e),"function"===typeof o&&o(e)};if("function"===typeof l)return l({targetProps:{ref:p},restProps:s});var d=i({},s);return"string"===typeof r?d.ref=p:d.innerRef=p,Object(n.createElement)(r,d,l)};l.contextTypes={popperManager:o.a.object.isRequired},l.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,children:o.a.oneOfType([o.a.node,o.a.func])},t.a=l},1070:function(e,t,a){"use strict";var n=a(0),r=(a.n(n),a(1)),o=a.n(r),i=a(361),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=i.a.placements,d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={},n._setArrowNode=function(e){n._arrowNode=e},n._getTargetNode=function(){if(n.props.target)return n.props.target;if(!n.context.popperManager||!n.context.popperManager.getTargetNode())throw new Error("Target missing. Popper must be given a target from the Popper Manager, or as a prop.");return n.context.popperManager.getTargetNode()},n._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},n._isDataDirty=function(e){return!n.state.data||JSON.stringify(n._getOffsets(n.state.data))!==JSON.stringify(n._getOffsets(e))},n._updateStateModifier={enabled:!0,order:900,fn:function(e){return n._isDataDirty(e)&&n.setState({data:e}),e}},n._getPopperStyle=function(){var e=n.state.data;return n._popper&&e?l({position:e.offsets.popper.position},e.styles):{position:"absolute",pointerEvents:"none",opacity:0}},n._getPopperPlacement=function(){return n.state.data?n.state.data.placement:void 0},n._getPopperHide=function(){return n.state.data&&n.state.data.hide?"":void 0},n._getArrowStyle=function(){if(n.state.data&&n.state.data.offsets.arrow){var e=n.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},n._handlePopperRef=function(e){n._popperNode=e,e?n._createPopper():n._destroyPopper(),n.props.innerRef&&n.props.innerRef(e)},n._scheduleUpdate=function(){n._popper&&n._popper.scheduleUpdate()},c(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),s(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled&&e.target===this.props.target||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this,t=this.props,a=t.placement,n=t.eventsEnabled,r=t.positionFixed,o=l({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(o.arrow=l({},this.props.modifiers.arrow||{},{element:this._arrowNode})),this._popper=new i.a(this._getTargetNode(),this._popperNode,{placement:a,positionFixed:r,eventsEnabled:n,modifiers:o}),setTimeout(function(){return e._scheduleUpdate()})}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this.props,t=e.component,a=(e.innerRef,e.placement,e.eventsEnabled,e.positionFixed,e.modifiers,e.children),r=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["component","innerRef","placement","eventsEnabled","positionFixed","modifiers","children"]),o=this._getPopperStyle(),i=this._getPopperPlacement(),s=this._getPopperHide();if("function"===typeof a)return a({popperProps:{ref:this._handlePopperRef,style:o,"data-placement":i,"data-x-out-of-boundaries":s},restProps:r,scheduleUpdate:this._scheduleUpdate});var c=l({},r,{style:l({},r.style,o),"data-placement":i,"data-x-out-of-boundaries":s});return"string"===typeof t?c.ref=this._handlePopperRef:c.innerRef=this._handlePopperRef,Object(n.createElement)(t,c,a)}}]),t}();d.contextTypes={popperManager:o.a.object},d.childContextTypes={popper:o.a.object.isRequired},d.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,placement:o.a.oneOf(p),eventsEnabled:o.a.bool,positionFixed:o.a.bool,modifiers:o.a.object,children:o.a.oneOfType([o.a.node,o.a.func]),target:o.a.oneOfType([o.a.instanceOf("undefined"!==typeof Element?Element:Object),o.a.shape({getBoundingClientRect:o.a.func.isRequired,clientWidth:o.a.number.isRequired,clientHeight:o.a.number.isRequired})])},d.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,positionFixed:!1,modifiers:{}},t.a=d},1071:function(e,t,a){"use strict";var n=a(0),r=(a.n(n),a(1)),o=a.n(r),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var l=function(e,t){var a=e.component,r=void 0===a?"span":a,o=e.innerRef,l=e.children,s=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["component","innerRef","children"]),c=t.popper,p=function(e){c.setArrowNode(e),"function"===typeof o&&o(e)},d=c.getArrowStyle();if("function"===typeof l)return l({arrowProps:{ref:p,style:d},restProps:s});var u=i({},s,{style:i({},d,s.style)});return"string"===typeof r?u.ref=p:u.innerRef=p,Object(n.createElement)(r,u,l)};l.contextTypes={popper:o.a.object.isRequired},l.propTypes={component:o.a.oneOfType([o.a.node,o.a.func]),innerRef:o.a.func,children:o.a.oneOfType([o.a.node,o.a.func])}},1072:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),i=a.n(o),l=a(52),s=a(358);class c extends n.Component{constructor(e){super(e),this.state={}}render(){let{fileName:e,fullName:t,style:a,size:n,onClick:o}=this.props;return r.a.createElement("div",{style:{display:"inherit"}},e&&""!==e&&"noImage"!==e?r.a.createElement(s.a,{src:e||" ",style:Object.assign({},a,{backgroundColor:"#ffffff",width:n||36,height:n||36}),onClick:o}):r.a.createElement(s.a,{style:Object.assign({},a,{backgroundColor:"#00bcd4",width:n||36,height:n||36}),onClick:o},t?t.slice(0,1):""))}}c.propTypes={fileName:i.a.string,fullName:i.a.string,style:i.a.object,size:i.a.number,onClick:i.a.func};t.a=Object(l.b)((e,t)=>({avatarURL:e.getIn(["imageGallery","imageURLList"]),imageRequests:e.getIn(["imageGallery","imageRequests"])}),(e,t)=>({}))(c)},1117:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),"Home");t.default=o},1118:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"})),"Feedback");t.default=o},1119:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),"Settings");t.default=o},1120:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})),"AccountCircle");t.default=o},1121:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})),"People");t.default=o},1122:function(e,t,a){"use strict";var n=a(1123);t.a=n.a},1123:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(52),i=a(167),l=a.n(i),s=a(1124),c=a.n(s),p=a(320),d=a(184),u=a(71),f=a(352),h=a(168),m=a(360),g=a(354),b=a(1125),y=a.n(b),v=a(175),E=a(25),w=a(917),O=a(70),_=a(53),N=a(111),T=a(906),P=a(1126),j=a(118);t.a=Object(o.b)((e,t)=>{const a=e.getIn(["authorize","uid"],0),n=e.getIn(["notify","userNotifies"]);let r=n?n.filter(e=>!e.get("isSeen",!1)).count():0;const o=e.getIn(["user","info",a],{});return{translate:Object(_.c)(e.get("locale")),avatar:o.avatar||"",fullName:o.fullName||"",title:e.getIn(["global","headerTitle"],""),notifyCount:r}},(e,t)=>({logout:()=>e(j.a.dbLogout())}))(Object(O.c)({root:{backgroundColor:"#a5792a"},flex:{flex:1}},{withTheme:!0})(class extends n.Component{constructor(e){super(e),this.styles={avatarStyle:{margin:5,cursor:"pointer"}},this.handleCloseNotify=(()=>{this.setState({openNotifyMenu:!1})}),this.onToggleSidebar=(()=>{const{onToggleDrawer:e}=this.props;e()}),this.handleNotifyTouchTap=(e=>{e.preventDefault(),this.setState({openNotifyMenu:!0,anchorEl:e.currentTarget})}),this.handleAvatarTouchTap=(e=>{this.setState({openAvatarMenu:!0,anchorEl:e.currentTarget})}),this.handleLogout=(()=>{this.props.logout()}),this.handleRequestClose=(()=>{this.setState({openAvatarMenu:!1,anchorEl:null})}),this.handleResize=(e=>{const{drawerStatus:t}=this.props;let a=window.innerWidth;a>=600&&!t&&this.onToggleSidebar()}),this.state={openAvatarMenu:!1,showTitle:!0,openNotifyMenu:!1},this.onToggleSidebar=this.onToggleSidebar.bind(this),this.handleCloseNotify=this.handleCloseNotify.bind(this)}componentDidMount(){this.handleResize(null)}render(){const{classes:e,translate:t,theme:a}=this.props,n="rtl"===a.direction?"right":"left";return r.a.createElement(f.a,{position:"fixed",color:"secondary"},r.a.createElement(d.a,null,r.a.createElement(u.a,{onClick:this.onToggleSidebar},r.a.createElement(c.a,{color:"primary",style:{cursor:"pointer"}})),r.a.createElement(E.a,{variant:"title",color:"primary",style:{marginLeft:"15px"}},N.a.settings.appName),r.a.createElement("div",{className:"homeHeader__title-root"},r.a.createElement(g.a,{smDown:!0},r.a.createElement("div",{className:l()({"homeHeader__title-left":"left"===n,"homeHeader__title-right":"right"===n})},this.props.title))),r.a.createElement("div",{className:"homeHeader__right"},r.a.createElement(w.a,null,r.a.createElement(w.c,null,this.props.notifyCount>0?r.a.createElement(v.a,{title:t("header.notificationTooltip")},r.a.createElement(u.a,{onClick:this.handleNotifyTouchTap},r.a.createElement("div",{className:"homeHeader__notify"},r.a.createElement("div",{className:"title"},this.props.notifyCount)))):r.a.createElement(v.a,{title:t("header.notificationTooltip")},r.a.createElement(u.a,{onClick:this.handleNotifyTouchTap},r.a.createElement(y.a,{style:{color:"rgba(255, 255, 255, 0.87)"}})))),r.a.createElement(P.a,{open:this.state.openNotifyMenu,anchorEl:this.state.anchorEl,onRequestClose:this.handleCloseNotify})),r.a.createElement(T.a,{onClick:this.handleAvatarTouchTap,fullName:this.props.fullName,fileName:this.props.avatar,size:32,style:this.styles.avatarStyle}),r.a.createElement(m.a,{open:this.state.openAvatarMenu,anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:this.handleRequestClose},r.a.createElement(h.a,{style:{backgroundColor:"white",color:p.a[500],fontSize:"14px"}}," ",t("header.myAccount")," "),r.a.createElement(h.a,{style:{fontSize:"14px"},onClick:this.handleLogout.bind(this)}," ",t("header.logout")," ")))))}}))},1124:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"})),"Dehaze");t.default=o},1125:function(e,t,a){"use strict";var n=a(166);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),o=(0,n(a(319)).default)(r.default.createElement("g",null,r.default.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})),"Notifications");t.default=o},1126:function(e,t,a){"use strict";var n=a(1127);t.a=n.a},1127:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),i=a.n(o),l=a(52),s=a(167),c=a.n(s),p=a(917),d=a(172),u=a(112),f=a(70),h=a(29),m=a(173),g=a(1128);class b extends n.Component{constructor(e){super(e),this.notifyItemList=(()=>{let{info:e,onRequestClose:t}=this.props,a=this.props.notifications,n=[];return a&&a.forEach((a,o)=>{const i=a.get("notifierUserId"),l=e.get(i);n.push(r.a.createElement(g.a,{key:o,description:a.get("description",""),fullName:l&&l.fullName||"",avatar:l&&l.avatar||"",id:o,isSeen:a.get("isSeen",!1),url:a.get("url"),notifierUserId:i,closeNotify:t}))}),n}),this.state={}}render(){let{open:e,anchorEl:t,onRequestClose:a,classes:n}=this.props;const o=r.a.createElement("div",{className:n.noNotify},"All caught up! "),i=this.notifyItemList();return r.a.createElement(p.b,{placement:"bottom-start",eventsEnabled:e,className:c()({[n.popperClose]:!e},{[n.popperOpen]:e})},r.a.createElement(d.a,{onClickAway:a},r.a.createElement(u.a,{in:e},r.a.createElement(h.a,{className:c()(n.root,{[n.overflowHidden]:!e}),elevation:4},i.length>0?r.a.createElement(m.a,{className:n.list},i):o))))}}b.propTypes={open:i.a.bool,anchorEl:i.a.any,onRequestClose:i.a.func,isSeen:i.a.bool};t.a=Object(l.b)((e,t)=>({notifications:e.getIn(["notify","userNotifies"]),info:e.getIn(["user","info"])}),(e,t)=>({}))(Object(f.c)(e=>({root:{width:360,maxWidth:360,backgroundColor:"#efefef",minHeight:376,display:"flex"},noNotify:{color:"#888888",justifyContent:"center",alignItems:"center",display:"flex",width:"100%"},popperClose:{pointerEvents:"none"},popperOpen:{zIndex:1,maxWidth:500,overflowY:"auto"},popper:{},overflowHidden:{overflow:"hidden"},list:{maxHeight:380,overflowY:"auto",width:"98%"},fullPageXs:{[e.breakpoints.down("xs")]:{width:"100%",height:"100%",margin:0,overflowY:"auto"}}}))(b))},1128:function(e,t,a){"use strict";var n=a(1129);t.a=n.a},1129:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),i=a.n(o),l=a(52),s=a(109),c=a(72),p=a(1058),d=a.n(p),u=a(70),f=a(325),h=a(346),m=a(174),g=a(906),b=a(91);class y extends n.Component{constructor(e){super(e),this.handleSeenNotify=(e=>{e.preventDefault();const{seenNotify:t,id:a,url:n,goTo:r,isSeen:o,closeNotify:i}=this.props;a&&(o||t(a),i(),r(n))}),this.state={},this.handleSeenNotify=this.handleSeenNotify.bind(this)}render(){let{description:e,fullName:t,avatar:a,isSeen:n,id:o,goTo:i,closeNotify:l,notifierUserId:c,url:p,deleteNotiy:u,classes:b}=this.props;return r.a.createElement(m.a,{key:c,dense:!0,button:!0,className:b.listItem,style:n?{opacity:.6}:{}},r.a.createElement(s.a,{to:`/${c}`,onClick:e=>{e.preventDefault(),l(),i(`/${c}`)}},r.a.createElement(g.a,{fullName:t,fileName:a})),r.a.createElement(f.a,{primary:r.a.createElement(s.a,{to:p,onClick:this.handleSeenNotify},r.a.createElement("div",{className:"user-name"},t),r.a.createElement("div",{className:"description"},e))}),r.a.createElement(h.a,{className:b.closeButton},r.a.createElement("div",{onClick:()=>u(o)},r.a.createElement(d.a,{className:b.closeIcon,style:{cursor:"pointer"}}))))}}y.propTypes={description:i.a.string,fullName:i.a.string,avatar:i.a.string,id:i.a.string,isSeen:i.a.bool,url:i.a.string,notifierUserId:i.a.string,closeNotify:i.a.func};t.a=Object(l.b)((e,t)=>({}),(e,t)=>({goTo:t=>e(Object(c.b)(t)),seenNotify:t=>e(b.dbSeenNotification(t)),deleteNotiy:t=>e(b.dbDeleteNotification(t))}))(Object(u.c)(e=>({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},closeButton:{color:"black"},closeIcon:{width:12,height:12},listItem:{backgroundColor:"white",marginBottom:"6px"}}))(y))},894:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1064);t.default=n.a},906:function(e,t,a){"use strict";var n=a(1072);t.a=n.a},917:function(e,t,a){"use strict";var n=a(1068);a.d(t,"a",function(){return n.a});var r=a(1069);a.d(t,"c",function(){return r.a});var o=a(1070);a.d(t,"b",function(){return o.a});a(1071)}});
//# sourceMappingURL=0.8e4c3862.chunk.js.map